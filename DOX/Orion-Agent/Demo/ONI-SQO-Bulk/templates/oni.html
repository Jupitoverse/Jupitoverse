<!-- ONI API Console -->
<div class="page">
    <h1>üîÆ ONI API Console</h1>
    <p class="subtitle">Product Inventory Search (GraphQL)</p>

    <div style="margin-bottom: 20px;">
        <span id="oni-status"><span class="status-dot"></span> Checking...</span>
    </div>

    <!-- API Cards -->
    <div class="api-grid">
        <div class="api-card" data-api="find-by-customer-id" onclick="ONIAPI.selectAPI('find-by-customer-id')">
            <div class="api-card-icon">üë§</div>
            <div class="api-card-name">By Customer</div>
            <div class="api-card-desc">Search by Customer ID</div>
        </div>
        <div class="api-card" data-api="find-by-external-service-id" onclick="ONIAPI.selectAPI('find-by-external-service-id')">
            <div class="api-card-icon">üîó</div>
            <div class="api-card-name">By External ID</div>
            <div class="api-card-desc">External Service ID</div>
        </div>
        <div class="api-card" data-api="find-by-product-id" onclick="ONIAPI.selectAPI('find-by-product-id')">
            <div class="api-card-icon">üì¶</div>
            <div class="api-card-name">By Product</div>
            <div class="api-card-desc">Search by Product ID</div>
        </div>
        <div class="api-card" data-api="find-by-site-id" onclick="ONIAPI.selectAPI('find-by-site-id')">
            <div class="api-card-icon">üìç</div>
            <div class="api-card-name">By Site</div>
            <div class="api-card-desc">Search by Site ID</div>
        </div>
        <div class="api-card" data-api="custom-query" onclick="ONIAPI.selectAPI('custom-query')">
            <div class="api-card-icon">üîß</div>
            <div class="api-card-name">Custom Query</div>
            <div class="api-card-desc">Advanced search</div>
        </div>
    </div>

    <!-- Form Section -->
    <div class="form-container" id="form-section" style="display: none;">
        <div class="form-header">
            <h2 id="form-title">Search</h2>
            <button class="btn btn-secondary btn-sm" onclick="ONIAPI.closeForm()">‚úï Close</button>
        </div>
        <div class="form-body">
            <!-- Customer ID Form -->
            <div class="api-form" id="form-find-by-customer-id" style="display: none;">
                <div class="form-group">
                    <label>Customer ID *</label>
                    <input type="text" id="oni-customerId" placeholder="Enter Customer ID">
                </div>
            </div>

            <!-- External Service ID Form -->
            <div class="api-form" id="form-find-by-external-service-id" style="display: none;">
                <div class="form-group">
                    <label>External Service ID *</label>
                    <input type="text" id="oni-externalServiceId" placeholder="Enter External Service ID">
                </div>
                <div class="form-group">
                    <label>External System ID</label>
                    <input type="text" id="oni-externalSystemId" value="SOM" placeholder="SOM">
                </div>
            </div>

            <!-- Product ID Form -->
            <div class="api-form" id="form-find-by-product-id" style="display: none;">
                <div class="form-group">
                    <label>Product ID *</label>
                    <input type="text" id="oni-productId" placeholder="Enter Product ID">
                </div>
            </div>

            <!-- Site ID Form -->
            <div class="api-form" id="form-find-by-site-id" style="display: none;">
                <div class="form-group">
                    <label>Site ID *</label>
                    <input type="text" id="oni-siteId" placeholder="Enter Site ID">
                </div>
            </div>

            <!-- Custom Query Form -->
            <div class="api-form" id="form-custom-query" style="display: none;">
                <div class="form-group">
                    <label>Query Properties (JSON Array) *</label>
                    <textarea id="oni-customProperties" placeholder='[{"name": "customerId", "value": "123"}, {"name": "status", "value": "active"}]'></textarea>
                </div>
            </div>

            <div class="form-actions">
                <button class="btn btn-primary" onclick="ONIAPI.execute()">üîç Search</button>
                <button class="btn btn-secondary" onclick="ONIAPI.closeForm()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Response Section -->
    <div class="response-container" id="response-section" style="display: none;">
        <div class="response-header">
            <div class="response-meta">
                <span class="status-badge" id="response-status">-</span>
                <span class="response-time" id="response-time">-</span>
            </div>
            <div class="response-actions">
                <button class="btn btn-sm btn-secondary" onclick="ONIAPI.expandAll()">Expand</button>
                <button class="btn btn-sm btn-secondary" onclick="ONIAPI.collapseAll()">Collapse</button>
                <button class="btn btn-sm btn-secondary" onclick="ONIAPI.copyResponse()">üìã Copy</button>
                <button class="btn btn-sm btn-secondary" onclick="ONIAPI.downloadResponse()">‚¨áÔ∏è Download</button>
            </div>
        </div>
        <div class="response-body">
            <div class="json-viewer" id="json-viewer"></div>
        </div>
    </div>
</div>
