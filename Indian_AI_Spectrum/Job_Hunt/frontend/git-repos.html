<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git Repository Hub - AI Spectrum India</title>
    <link rel="stylesheet" href="css/common.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --border-color: #30363d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent-orange: #f78166;
            --accent-green: #3fb950;
            --accent-blue: #58a6ff;
            --accent-purple: #a371f7;
            --accent-yellow: #d29922;
            --accent-pink: #db61a2;
            --accent-cyan: #39c5cf;
            --gradient-primary: linear-gradient(135deg, #f78166 0%, #a371f7 100%);
            --gradient-github: linear-gradient(135deg, #2dba4e 0%, #238636 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding-top: 70px;
        }

        /* Header placeholder */
        #header-placeholder {
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(180deg, #0d1117 0%, #161b22 100%);
            padding: 60px 20px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(247, 129, 102, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(163, 113, 247, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero-icon {
            width: 80px;
            height: 80px;
            background: var(--bg-tertiary);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            border: 1px solid var(--border-color);
        }

        .hero-icon i {
            font-size: 36px;
            background: var(--gradient-github);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #f0f6fc 0%, #8b949e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero h1 span {
            background: var(--gradient-github);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 32px;
            line-height: 1.6;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            margin-top: 24px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent-green);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Filter Section */
        .filter-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin: -20px 20px 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 10;
        }

        .search-row {
            display: flex;
            gap: 16px;
            margin-bottom: 20px;
        }

        .search-input-wrapper {
            flex: 1;
            position: relative;
        }

        .search-input-wrapper i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 18px;
        }

        .search-input {
            width: 100%;
            padding: 14px 16px 14px 48px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'JetBrains Mono', monospace;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.15);
        }

        .filter-row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 10px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        .filter-btn {
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-btn:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        .filter-btn.active {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        /* Category Navigation */
        .category-nav {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            padding: 0 20px;
            margin-bottom: 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .category-btn {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 25px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .category-btn:hover {
            border-color: var(--accent-purple);
            color: var(--accent-purple);
        }

        .category-btn.active {
            background: var(--gradient-primary);
            border-color: transparent;
            color: white;
        }

        .category-btn i {
            font-size: 14px;
        }

        /* Results Header */
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            margin-bottom: 20px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .results-count {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        .results-count span {
            color: var(--accent-green);
            font-weight: 600;
        }

        .view-toggle {
            display: flex;
            gap: 8px;
        }

        .view-btn {
            width: 40px;
            height: 40px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-btn:hover, .view-btn.active {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        /* Repos Grid */
        .repos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 20px;
            padding: 0 20px 60px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .repos-grid.list-view {
            grid-template-columns: 1fr;
        }

        /* Repo Card */
        .repo-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .repo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-github);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .repo-card:hover {
            border-color: var(--accent-green);
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        }

        .repo-card:hover::before {
            opacity: 1;
        }

        .repo-card.featured {
            border-color: var(--accent-yellow);
        }

        .repo-card.featured::before {
            background: linear-gradient(90deg, var(--accent-yellow), var(--accent-orange));
            opacity: 1;
        }

        .repo-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
        }

        .repo-icon {
            width: 44px;
            height: 44px;
            background: var(--bg-tertiary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            border: 1px solid var(--border-color);
        }

        .repo-icon i {
            font-size: 20px;
            color: var(--text-secondary);
        }

        .repo-info {
            flex: 1;
            min-width: 0;
        }

        .repo-org {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 2px;
            font-family: 'JetBrains Mono', monospace;
        }

        .repo-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-blue);
            text-decoration: none;
            display: block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .repo-name:hover {
            text-decoration: underline;
        }

        .featured-badge {
            background: var(--accent-yellow);
            color: #000;
            font-size: 0.7rem;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .repo-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 16px;
            flex: 1;
        }

        .repo-meta {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .meta-item i {
            font-size: 14px;
        }

        .meta-item.stars {
            color: var(--accent-yellow);
        }

        .meta-item.language .lang-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .repo-topics {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .topic-tag {
            background: rgba(56, 139, 253, 0.15);
            color: var(--accent-blue);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .repo-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }

        .difficulty-badge {
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .difficulty-badge.beginner {
            background: rgba(63, 185, 80, 0.15);
            color: var(--accent-green);
        }

        .difficulty-badge.intermediate {
            background: rgba(210, 153, 34, 0.15);
            color: var(--accent-yellow);
        }

        .difficulty-badge.advanced {
            background: rgba(247, 129, 102, 0.15);
            color: var(--accent-orange);
        }

        .github-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .github-link:hover {
            background: var(--accent-green);
            border-color: var(--accent-green);
            color: #000;
        }

        /* Language Colors */
        .lang-javascript { background: #f1e05a; }
        .lang-typescript { background: #3178c6; }
        .lang-python { background: #3572A5; }
        .lang-go { background: #00ADD8; }
        .lang-rust { background: #dea584; }
        .lang-java { background: #b07219; }
        .lang-c { background: #555555; }
        .lang-cpp { background: #f34b7d; }
        .lang-ruby { background: #701516; }
        .lang-php { background: #4F5D95; }
        .lang-swift { background: #F05138; }
        .lang-kotlin { background: #A97BFF; }
        .lang-scala { background: #c22d40; }
        .lang-elixir { background: #6e4a7e; }
        .lang-dart { background: #00B4AB; }
        .lang-shell { background: #89e051; }
        .lang-css { background: #563d7c; }
        .lang-markdown { background: #083fa1; }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-state i {
            font-size: 64px;
            color: var(--text-muted);
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--text-secondary);
        }

        .empty-state p {
            color: var(--text-muted);
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 60px 20px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border-color);
            border-top-color: var(--accent-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .stats-bar {
                gap: 20px;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .repos-grid {
                grid-template-columns: 1fr;
            }

            .search-row {
                flex-direction: column;
            }

            .filter-row {
                overflow-x: auto;
                flex-wrap: nowrap;
                padding-bottom: 10px;
            }

            .category-nav {
                overflow-x: auto;
                flex-wrap: nowrap;
                padding-bottom: 10px;
            }
        }
    </style>
</head>
<body data-page="git-repos">
    <!-- Header injected by header.js -->
    <script src="js/header.js"></script>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fab fa-github"></i>
            </div>
            <h1>Git <span>Repository</span> Hub</h1>
            <p>Discover the best open-source projects across all domains. Curated collection of top GitHub repositories for learning and building.</p>
            
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value" id="total-repos">0</div>
                    <div class="stat-label">Repositories</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="total-categories">0</div>
                    <div class="stat-label">Categories</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="featured-repos">0</div>
                    <div class="stat-label">Featured Projects</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="total-stars">0</div>
                    <div class="stat-label">Combined Stars</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filter Section -->
    <div class="filter-section">
        <div class="search-row">
            <div class="search-input-wrapper">
                <i class="fas fa-search"></i>
                <input type="text" class="search-input" id="search-input" placeholder="Search repositories by name, description, or topic...">
            </div>
        </div>
        <div class="filter-row">
            <select class="filter-select" id="language-filter">
                <option value="">All Languages</option>
                <option value="JavaScript">JavaScript</option>
                <option value="TypeScript">TypeScript</option>
                <option value="Python">Python</option>
                <option value="Go">Go</option>
                <option value="Rust">Rust</option>
                <option value="Java">Java</option>
                <option value="C++">C++</option>
                <option value="C">C</option>
                <option value="Ruby">Ruby</option>
                <option value="PHP">PHP</option>
                <option value="Swift">Swift</option>
                <option value="Kotlin">Kotlin</option>
            </select>
            <select class="filter-select" id="difficulty-filter">
                <option value="">All Levels</option>
                <option value="Beginner">Beginner Friendly</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
            </select>
            <select class="filter-select" id="sort-filter">
                <option value="featured">Featured First</option>
                <option value="stars">Most Stars</option>
                <option value="name">Alphabetical</option>
            </select>
            <button class="filter-btn" id="featured-toggle">
                <i class="fas fa-star"></i> Featured Only
            </button>
            <button class="filter-btn" id="clear-filters">
                <i class="fas fa-times"></i> Clear
            </button>
        </div>
    </div>

    <!-- Category Navigation -->
    <div class="category-nav" id="category-nav">
        <!-- Categories will be populated by JavaScript -->
    </div>

    <!-- Results Header -->
    <div class="results-header">
        <div class="results-count">
            Showing <span id="visible-count">0</span> repositories
        </div>
        <div class="view-toggle">
            <button class="view-btn active" id="grid-view" title="Grid View">
                <i class="fas fa-th-large"></i>
            </button>
            <button class="view-btn" id="list-view" title="List View">
                <i class="fas fa-list"></i>
            </button>
        </div>
    </div>

    <!-- Repos Grid -->
    <div class="repos-grid" id="repos-grid">
        <div class="loading">
            <div class="loading-spinner"></div>
            <p>Loading repositories...</p>
        </div>
    </div>

    <script src="js/git-repos-data.js"></script>
    <script src="js/git-repos-data-2.js"></script>
    <script src="js/git-repos-data-3.js"></script>
    <script src="js/git-repos-data-4.js"></script>
    <script src="js/git-repos-data-5.js"></script>
    <script>
        // Combine all repo databases
        const ALL_REPOS = {};
        
        // Merge databases
        function mergeRepos() {
            const databases = [
                window.GIT_REPOS_DATABASE || {},
                window.GIT_REPOS_DATABASE_2 || {},
                window.GIT_REPOS_DATABASE_3 || {},
                window.GIT_REPOS_DATABASE_4 || {},
                window.GIT_REPOS_DATABASE_5 || {}
            ];
            
            databases.forEach(db => {
                Object.keys(db).forEach(category => {
                    if (!ALL_REPOS[category]) {
                        ALL_REPOS[category] = [];
                    }
                    ALL_REPOS[category] = [...ALL_REPOS[category], ...db[category]];
                });
            });
        }

        // Category display names and icons
        const CATEGORY_INFO = {
            'ai_ml': { name: 'AI / Machine Learning', icon: 'fa-brain' },
            'llm_genai': { name: 'LLM & GenAI', icon: 'fa-robot' },
            'ai_agents': { name: 'AI Agents', icon: 'fa-user-cog' },
            'rag_vectors': { name: 'RAG & Vector DBs', icon: 'fa-cubes' },
            'computer_vision': { name: 'Computer Vision', icon: 'fa-eye' },
            'audio_speech': { name: 'Audio & Speech', icon: 'fa-microphone' },
            'nlp': { name: 'NLP & Text', icon: 'fa-language' },
            'web_dev': { name: 'Web Development', icon: 'fa-globe' },
            'backend': { name: 'Backend & APIs', icon: 'fa-server' },
            'databases': { name: 'Databases', icon: 'fa-database' },
            'devops': { name: 'DevOps & Infra', icon: 'fa-cloud' },
            'mobile': { name: 'Mobile Development', icon: 'fa-mobile-alt' },
            'security': { name: 'Security', icon: 'fa-shield-alt' },
            'data_engineering': { name: 'Data Engineering', icon: 'fa-chart-bar' },
            'blockchain': { name: 'Blockchain & Web3', icon: 'fa-link' },
            'testing': { name: 'Testing', icon: 'fa-vial' },
            'dev_tools': { name: 'Developer Tools', icon: 'fa-tools' },
            'gaming': { name: 'Gaming & Graphics', icon: 'fa-gamepad' },
            'cli_automation': { name: 'CLI & Automation', icon: 'fa-terminal' },
            'iot_embedded': { name: 'IoT & Embedded', icon: 'fa-microchip' },
            'documentation': { name: 'Documentation', icon: 'fa-book' },
            'system_design': { name: 'System Design', icon: 'fa-sitemap' },
            'auth_identity': { name: 'Auth & Identity', icon: 'fa-key' },
            'cms_content': { name: 'CMS & Content', icon: 'fa-file-alt' },
            'messaging_realtime': { name: 'Messaging & Realtime', icon: 'fa-comments' },
            'search': { name: 'Search Engines', icon: 'fa-search' },
            'media_files': { name: 'Media & Files', icon: 'fa-photo-video' },
            'monitoring_logging': { name: 'Monitoring & Logging', icon: 'fa-chart-line' },
            'low_code': { name: 'Low Code / No Code', icon: 'fa-puzzle-piece' },
            'productivity': { name: 'Productivity & Notes', icon: 'fa-sticky-note' },
            'finance': { name: 'Finance & Trading', icon: 'fa-coins' },
            'education': { name: 'Education & Learning', icon: 'fa-graduation-cap' },
            'api_microservices': { name: 'API & Microservices', icon: 'fa-network-wired' },
            'privacy_selfhosted': { name: 'Privacy & Self-Hosted', icon: 'fa-lock' },
            'state_management': { name: 'State Management', icon: 'fa-layer-group' },
            'forms': { name: 'Forms & Validation', icon: 'fa-clipboard-check' },
            'code_editors': { name: 'Code Editors', icon: 'fa-code' },
            'ecommerce': { name: 'E-Commerce', icon: 'fa-shopping-cart' },
            'pdf_docs': { name: 'PDF & Documents', icon: 'fa-file-pdf' },
            'email': { name: 'Email', icon: 'fa-envelope' },
            'scheduling': { name: 'Scheduling & Calendar', icon: 'fa-calendar-alt' },
            'payments': { name: 'Payments', icon: 'fa-credit-card' },
            'maps_geo': { name: 'Maps & Geolocation', icon: 'fa-map-marked-alt' },
            'notifications': { name: 'Notifications', icon: 'fa-bell' },
            'i18n': { name: 'Internationalization', icon: 'fa-globe-americas' },
            'utilities': { name: 'Utilities', icon: 'fa-wrench' },
            'robotics': { name: 'Robotics', icon: 'fa-robot' },
            'science': { name: 'Science & Research', icon: 'fa-flask' },
            'graphics_3d': { name: '3D & Graphics', icon: 'fa-cube' },
            'video_streaming': { name: 'Video & Streaming', icon: 'fa-video' },
            'terminal_shell': { name: 'Terminal & Shell', icon: 'fa-terminal' },
            'browser_ext': { name: 'Browser Extensions', icon: 'fa-puzzle-piece' },
            'http_clients': { name: 'HTTP Clients', icon: 'fa-exchange-alt' },
            'serverless_edge': { name: 'Serverless & Edge', icon: 'fa-bolt' },
            'compilers': { name: 'Compilers & Bundlers', icon: 'fa-cogs' },
            'operating_systems': { name: 'Operating Systems', icon: 'fa-laptop' },
            'networking': { name: 'Networking', icon: 'fa-network-wired' }
        };

        // State
        let currentCategory = 'all';
        let searchQuery = '';
        let languageFilter = '';
        let difficultyFilter = '';
        let sortBy = 'featured';
        let featuredOnly = false;
        let isListView = false;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            mergeRepos();
            initializeCategoryNav();
            updateStats();
            renderRepos();
            setupEventListeners();
        });

        function initializeCategoryNav() {
            const nav = document.getElementById('category-nav');
            
            let html = `
                <button class="category-btn active" data-category="all">
                    <i class="fas fa-layer-group"></i> All Categories
                </button>
            `;
            
            Object.keys(CATEGORY_INFO).forEach(key => {
                if (ALL_REPOS[key] && ALL_REPOS[key].length > 0) {
                    const info = CATEGORY_INFO[key];
                    html += `
                        <button class="category-btn" data-category="${key}">
                            <i class="fas ${info.icon}"></i> ${info.name}
                        </button>
                    `;
                }
            });
            
            nav.innerHTML = html;
        }

        function updateStats() {
            let totalRepos = 0;
            let featuredCount = 0;
            let totalStars = 0;
            
            Object.keys(ALL_REPOS).forEach(category => {
                ALL_REPOS[category].forEach(repo => {
                    totalRepos++;
                    if (repo.featured) featuredCount++;
                    const stars = parseInt(repo.stars.replace(/[^0-9]/g, '')) || 0;
                    totalStars += stars;
                });
            });
            
            document.getElementById('total-repos').textContent = totalRepos;
            document.getElementById('total-categories').textContent = Object.keys(ALL_REPOS).length;
            document.getElementById('featured-repos').textContent = featuredCount;
            document.getElementById('total-stars').textContent = Math.round(totalStars / 1000) + 'K+';
        }

        function getFilteredRepos() {
            let repos = [];
            
            // Collect repos based on category
            if (currentCategory === 'all') {
                Object.values(ALL_REPOS).forEach(categoryRepos => {
                    repos = [...repos, ...categoryRepos];
                });
            } else if (ALL_REPOS[currentCategory]) {
                repos = [...ALL_REPOS[currentCategory]];
            }
            
            // Apply filters
            if (searchQuery) {
                const query = searchQuery.toLowerCase();
                repos = repos.filter(repo => 
                    repo.name.toLowerCase().includes(query) ||
                    repo.desc.toLowerCase().includes(query) ||
                    repo.org.toLowerCase().includes(query) ||
                    repo.topics.some(t => t.toLowerCase().includes(query))
                );
            }
            
            if (languageFilter) {
                repos = repos.filter(repo => 
                    repo.language.toLowerCase().includes(languageFilter.toLowerCase())
                );
            }
            
            if (difficultyFilter) {
                repos = repos.filter(repo => repo.difficulty === difficultyFilter);
            }
            
            if (featuredOnly) {
                repos = repos.filter(repo => repo.featured);
            }
            
            // Sort
            switch (sortBy) {
                case 'featured':
                    repos.sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0));
                    break;
                case 'stars':
                    repos.sort((a, b) => {
                        const starsA = parseInt(a.stars.replace(/[^0-9]/g, '')) || 0;
                        const starsB = parseInt(b.stars.replace(/[^0-9]/g, '')) || 0;
                        return starsB - starsA;
                    });
                    break;
                case 'name':
                    repos.sort((a, b) => a.name.localeCompare(b.name));
                    break;
            }
            
            return repos;
        }

        function getLanguageClass(language) {
            const lang = language.toLowerCase().split('/')[0].trim();
            const langMap = {
                'javascript': 'javascript',
                'typescript': 'typescript',
                'python': 'python',
                'go': 'go',
                'rust': 'rust',
                'java': 'java',
                'c': 'c',
                'c++': 'cpp',
                'ruby': 'ruby',
                'php': 'php',
                'swift': 'swift',
                'kotlin': 'kotlin',
                'scala': 'scala',
                'elixir': 'elixir',
                'dart': 'dart',
                'shell': 'shell',
                'css': 'css',
                'markdown': 'markdown'
            };
            return langMap[lang] || 'javascript';
        }

        function renderRepos() {
            const grid = document.getElementById('repos-grid');
            const repos = getFilteredRepos();
            
            document.getElementById('visible-count').textContent = repos.length;
            
            if (repos.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h3>No repositories found</h3>
                        <p>Try adjusting your filters or search query</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = repos.map(repo => `
                <div class="repo-card ${repo.featured ? 'featured' : ''}">
                    <div class="repo-header">
                        <div class="repo-icon">
                            <i class="fab fa-github"></i>
                        </div>
                        <div class="repo-info">
                            <div class="repo-org">${repo.org}</div>
                            <a href="${repo.url}" target="_blank" class="repo-name" title="${repo.name}">${repo.name}</a>
                        </div>
                        ${repo.featured ? `
                            <div class="featured-badge">
                                <i class="fas fa-star"></i> Featured
                            </div>
                        ` : ''}
                    </div>
                    <p class="repo-desc">${repo.desc}</p>
                    <div class="repo-meta">
                        <div class="meta-item stars">
                            <i class="fas fa-star"></i> ${repo.stars}
                        </div>
                        <div class="meta-item language">
                            <span class="lang-dot lang-${getLanguageClass(repo.language)}"></span> ${repo.language}
                        </div>
                    </div>
                    <div class="repo-topics">
                        ${repo.topics.slice(0, 4).map(topic => `
                            <span class="topic-tag">${topic}</span>
                        `).join('')}
                    </div>
                    <div class="repo-footer">
                        <span class="difficulty-badge ${repo.difficulty.toLowerCase()}">${repo.difficulty}</span>
                        <a href="${repo.url}" target="_blank" class="github-link">
                            <i class="fab fa-github"></i> View Repo
                        </a>
                    </div>
                </div>
            `).join('');
        }

        function setupEventListeners() {
            // Category buttons
            document.getElementById('category-nav').addEventListener('click', (e) => {
                const btn = e.target.closest('.category-btn');
                if (!btn) return;
                
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentCategory = btn.dataset.category;
                renderRepos();
            });
            
            // Search
            let searchTimeout;
            document.getElementById('search-input').addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    searchQuery = e.target.value;
                    renderRepos();
                }, 300);
            });
            
            // Language filter
            document.getElementById('language-filter').addEventListener('change', (e) => {
                languageFilter = e.target.value;
                renderRepos();
            });
            
            // Difficulty filter
            document.getElementById('difficulty-filter').addEventListener('change', (e) => {
                difficultyFilter = e.target.value;
                renderRepos();
            });
            
            // Sort
            document.getElementById('sort-filter').addEventListener('change', (e) => {
                sortBy = e.target.value;
                renderRepos();
            });
            
            // Featured toggle
            document.getElementById('featured-toggle').addEventListener('click', (e) => {
                featuredOnly = !featuredOnly;
                e.target.classList.toggle('active', featuredOnly);
                renderRepos();
            });
            
            // Clear filters
            document.getElementById('clear-filters').addEventListener('click', () => {
                searchQuery = '';
                languageFilter = '';
                difficultyFilter = '';
                sortBy = 'featured';
                featuredOnly = false;
                currentCategory = 'all';
                
                document.getElementById('search-input').value = '';
                document.getElementById('language-filter').value = '';
                document.getElementById('difficulty-filter').value = '';
                document.getElementById('sort-filter').value = 'featured';
                document.getElementById('featured-toggle').classList.remove('active');
                
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.category === 'all');
                });
                
                renderRepos();
            });
            
            // View toggle
            document.getElementById('grid-view').addEventListener('click', () => {
                isListView = false;
                document.getElementById('repos-grid').classList.remove('list-view');
                document.getElementById('grid-view').classList.add('active');
                document.getElementById('list-view').classList.remove('active');
            });
            
            document.getElementById('list-view').addEventListener('click', () => {
                isListView = true;
                document.getElementById('repos-grid').classList.add('list-view');
                document.getElementById('list-view').classList.add('active');
                document.getElementById('grid-view').classList.remove('active');
            });
        }
    </script>
</body>
</html>

