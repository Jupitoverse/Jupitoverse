"""
Additional Company Data - Expanded inventory
"""
import sys
import os
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))))

from app.models.database import SessionLocal, init_db
from app.models.company import Company, CompanyType, CompanyCategory
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# More Companies with correct schema
ADDITIONAL_COMPANIES = [
    # ===== INDIAN PRODUCT COMPANIES =====
    {"name": "Razorpay", "slug": "razorpay", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Full-stack financial services company. India's leading payments gateway.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2014, "employee_count_range": "1001-5000", "is_remote_friendly": True, "careers_page": "https://razorpay.com/jobs/", "work_life_balance": 4.0, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Swiggy", "slug": "swiggy", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "India's largest food delivery platform. Quick commerce pioneer.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2014, "employee_count_range": "5001-10000", "is_remote_friendly": False, "careers_page": "https://careers.swiggy.com/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Zomato", "slug": "zomato", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Restaurant aggregator and food delivery. Listed on NSE & BSE.", "headquarters_city": "Gurugram", "headquarters_country": "India", "founded_year": 2008, "employee_count_range": "5001-10000", "is_remote_friendly": False, "careers_page": "https://www.zomato.com/careers", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Paytm", "slug": "paytm", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Digital payments and financial services. India's fintech pioneer.", "headquarters_city": "Noida", "headquarters_country": "India", "founded_year": 2010, "employee_count_range": "10001+", "is_remote_friendly": False, "careers_page": "https://paytm.com/careers", "has_indian_office": True},
    {"name": "PhonePe", "slug": "phonepe", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Digital payments platform. India's largest UPI player.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2015, "employee_count_range": "1001-5000", "is_remote_friendly": False, "careers_page": "https://www.phonepe.com/careers/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "CRED", "slug": "cred", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Fintech platform for credit card bill payments and rewards.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2018, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://cred.club/careers", "work_life_balance": 3.5, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Groww", "slug": "groww", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Investment platform for stocks, mutual funds, and more.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2016, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://groww.in/careers", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Zerodha", "slug": "zerodha", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "India's largest retail stock broker. Bootstrapped unicorn.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2010, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://zerodha.com/careers/", "has_indian_office": True},
    {"name": "Dream11", "slug": "dream11", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Fantasy sports platform. India's first gaming unicorn.", "headquarters_city": "Mumbai", "headquarters_country": "India", "founded_year": 2008, "employee_count_range": "501-1000", "is_remote_friendly": False, "careers_page": "https://www.dreamsports.group/careers/", "has_indian_office": True},
    {"name": "Meesho", "slug": "meesho", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Social commerce platform enabling small businesses to sell online.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2015, "employee_count_range": "1001-5000", "is_remote_friendly": False, "careers_page": "https://careers.meesho.com/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Ola", "slug": "ola", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Ride-hailing and mobility company. Building Ola Electric.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2010, "employee_count_range": "5001-10000", "is_remote_friendly": False, "careers_page": "https://www.olacabs.com/careers", "has_indian_office": True},
    {"name": "Nykaa", "slug": "nykaa", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Beauty and fashion e-commerce. Listed on NSE & BSE.", "headquarters_city": "Mumbai", "headquarters_country": "India", "founded_year": 2012, "employee_count_range": "1001-5000", "is_remote_friendly": False, "careers_page": "https://www.nykaa.com/careers", "has_indian_office": True},
    {"name": "Urban Company", "slug": "urban-company", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Home services platform connecting professionals with customers.", "headquarters_city": "Gurugram", "headquarters_country": "India", "founded_year": 2014, "employee_count_range": "1001-5000", "is_remote_friendly": False, "careers_page": "https://www.urbancompany.com/careers", "has_indian_office": True},
    {"name": "Lenskart", "slug": "lenskart", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Eyewear retail chain with omnichannel presence.", "headquarters_city": "Delhi", "headquarters_country": "India", "founded_year": 2010, "employee_count_range": "1001-5000", "is_remote_friendly": False, "careers_page": "https://www.lenskart.com/careers", "has_indian_office": True},
    {"name": "Unacademy", "slug": "unacademy", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "EdTech platform for competitive exam preparation.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2015, "employee_count_range": "1001-5000", "is_remote_friendly": True, "careers_page": "https://unacademy.com/careers", "has_indian_office": True},
    {"name": "Upstox", "slug": "upstox", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Discount stock broker and trading platform.", "headquarters_city": "Mumbai", "headquarters_country": "India", "founded_year": 2012, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://upstox.com/careers/", "has_indian_office": True},
    {"name": "ShareChat", "slug": "sharechat", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Regional language social media platform. Owns Moj.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2015, "employee_count_range": "501-1000", "is_remote_friendly": False, "careers_page": "https://sharechat.com/careers", "has_indian_office": True},
    {"name": "BrowserStack", "slug": "browserstack", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Cloud-based testing platform. Used by top tech companies globally.", "headquarters_city": "Mumbai", "headquarters_country": "India", "founded_year": 2011, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://www.browserstack.com/careers", "work_life_balance": 4.2, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Postman", "slug": "postman", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "API development platform. 25M+ developers worldwide.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2014, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://www.postman.com/company/careers/", "work_life_balance": 4.3, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Freshworks", "slug": "freshworks", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "SaaS company offering business software. Listed on NASDAQ.", "headquarters_city": "Chennai", "headquarters_country": "India", "founded_year": 2010, "employee_count_range": "5001-10000", "is_remote_friendly": True, "careers_page": "https://www.freshworks.com/company/careers/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Zoho", "slug": "zoho", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Enterprise software suite. Bootstrapped Indian tech giant.", "headquarters_city": "Chennai", "headquarters_country": "India", "founded_year": 1996, "employee_count_range": "10001+", "is_remote_friendly": False, "careers_page": "https://www.zoho.com/careers/", "work_life_balance": 4.2, "has_indian_office": True},
    {"name": "InMobi", "slug": "inmobi", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.INDIAN_UNICORN, "description": "Mobile advertising and marketing platform.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2007, "employee_count_range": "1001-5000", "is_remote_friendly": True, "careers_page": "https://www.inmobi.com/company/careers", "has_indian_office": True},
    
    # ===== SERVICE COMPANIES (IT Services) =====
    {"name": "TCS", "slug": "tcs", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_1, "description": "Tata Consultancy Services - India's largest IT services company.", "headquarters_city": "Mumbai", "headquarters_country": "India", "founded_year": 1968, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.tcs.com/careers", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Infosys", "slug": "infosys", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_1, "description": "Global leader in consulting and digital services.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 1981, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.infosys.com/careers/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Wipro", "slug": "wipro", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_1, "description": "Global IT, consulting, and business process services.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 1945, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://careers.wipro.com/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "HCL Technologies", "slug": "hcl-technologies", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_1, "description": "Global technology company delivering digital transformation.", "headquarters_city": "Noida", "headquarters_country": "India", "founded_year": 1976, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.hcltech.com/careers", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Tech Mahindra", "slug": "tech-mahindra", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_1, "description": "IT services, consulting, and business solutions.", "headquarters_city": "Pune", "headquarters_country": "India", "founded_year": 1986, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://careers.techmahindra.com/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Cognizant", "slug": "cognizant", "company_type": CompanyType.SERVICE, "category": CompanyCategory.MNC, "description": "Digital, technology, consulting and operations services.", "headquarters_city": "New Jersey", "headquarters_country": "USA", "founded_year": 1994, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://careers.cognizant.com/", "has_indian_office": True},
    {"name": "Capgemini", "slug": "capgemini", "company_type": CompanyType.SERVICE, "category": CompanyCategory.MNC, "description": "Global leader in consulting, technology services and digital transformation.", "headquarters_city": "Paris", "headquarters_country": "France", "founded_year": 1967, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.capgemini.com/careers/", "has_indian_office": True},
    {"name": "Accenture", "slug": "accenture", "company_type": CompanyType.SERVICE, "category": CompanyCategory.MNC, "description": "Global professional services company with leading digital capabilities.", "headquarters_city": "Dublin", "headquarters_country": "Ireland", "founded_year": 1989, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.accenture.com/careers", "has_indian_office": True},
    {"name": "LTIMindtree", "slug": "ltimindtree", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_1, "description": "Global technology consulting and digital solutions company.", "headquarters_city": "Mumbai", "headquarters_country": "India", "founded_year": 2022, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.ltimindtree.com/careers/", "has_indian_office": True},
    {"name": "Mphasis", "slug": "mphasis", "company_type": CompanyType.SERVICE, "category": CompanyCategory.TIER_2, "description": "IT solutions company specializing in cloud and cognitive services.", "headquarters_city": "Bangalore", "headquarters_country": "India", "founded_year": 2000, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.mphasis.com/careers.html", "has_indian_office": True},
    
    # ===== GLOBAL TECH GIANTS =====
    {"name": "Google", "slug": "google", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.FAANG, "description": "Global technology leader. Search, Cloud, Android, AI and more.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 1998, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://careers.google.com/", "work_life_balance": 4.2, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Microsoft", "slug": "microsoft", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MAANG, "description": "Technology corporation. Azure, Office 365, Windows, Xbox.", "headquarters_city": "Washington", "headquarters_country": "USA", "founded_year": 1975, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://careers.microsoft.com/", "work_life_balance": 4.3, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Amazon", "slug": "amazon", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.FAANG, "description": "E-commerce and cloud computing giant. AWS, Prime, Alexa.", "headquarters_city": "Washington", "headquarters_country": "USA", "founded_year": 1994, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://amazon.jobs/", "work_life_balance": 3.5, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Meta", "slug": "meta", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.FAANG, "description": "Social technology company. Facebook, Instagram, WhatsApp, Quest.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 2004, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.metacareers.com/", "work_life_balance": 4.0, "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Apple", "slug": "apple", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.FAANG, "description": "Consumer electronics, software and services. iPhone, Mac, iOS.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 1976, "employee_count_range": "10001+", "is_remote_friendly": False, "careers_page": "https://jobs.apple.com/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Netflix", "slug": "netflix", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.FAANG, "description": "Streaming entertainment service. Original content production.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 1997, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://jobs.netflix.com/", "work_life_balance": 4.2, "has_indian_office": True},
    {"name": "Uber", "slug": "uber", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Mobility platform. Ride-hailing, food delivery, freight.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 2009, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.uber.com/careers/", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Spotify", "slug": "spotify", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Audio streaming and media services provider.", "headquarters_city": "Stockholm", "headquarters_country": "Sweden", "founded_year": 2006, "employee_count_range": "5001-10000", "is_remote_friendly": True, "careers_page": "https://www.lifeatspotify.com/jobs", "work_life_balance": 4.3, "has_indian_office": True},
    {"name": "Salesforce", "slug": "salesforce", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Cloud-based CRM software and enterprise applications.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 1999, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.salesforce.com/company/careers/", "work_life_balance": 4.0, "has_indian_office": True},
    {"name": "Adobe", "slug": "adobe", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Software company. Creative Cloud, Document Cloud, Experience Cloud.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 1982, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://www.adobe.com/careers.html", "work_life_balance": 4.2, "has_indian_office": True},
    {"name": "LinkedIn", "slug": "linkedin", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Professional networking platform. Part of Microsoft.", "headquarters_city": "California", "headquarters_country": "USA", "founded_year": 2002, "employee_count_range": "10001+", "is_remote_friendly": True, "careers_page": "https://careers.linkedin.com/", "work_life_balance": 4.1, "has_indian_office": True},
    
    # ===== REMOTE-FIRST COMPANIES =====
    {"name": "GitLab", "slug": "gitlab", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "All-remote DevOps platform. Open source Git repository manager.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2014, "employee_count_range": "1001-5000", "is_remote_friendly": True, "careers_page": "https://about.gitlab.com/jobs/", "work_life_balance": 4.5, "is_actively_hiring": True, "hires_from_india": True},
    {"name": "Automattic", "slug": "automattic", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "WordPress, WooCommerce, Tumblr. Fully distributed company.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2005, "employee_count_range": "1001-5000", "is_remote_friendly": True, "careers_page": "https://automattic.com/work-with-us/", "work_life_balance": 4.6, "hires_from_india": True},
    {"name": "Zapier", "slug": "zapier", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Workflow automation platform connecting apps.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2011, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://zapier.com/jobs", "work_life_balance": 4.7, "hires_from_india": True},
    {"name": "Buffer", "slug": "buffer", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.STARTUP, "description": "Social media management platform. Transparent remote culture.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2010, "employee_count_range": "51-200", "is_remote_friendly": True, "careers_page": "https://buffer.com/journey", "work_life_balance": 4.8, "hires_from_india": True},
    {"name": "Notion", "slug": "notion", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.STARTUP, "description": "All-in-one workspace for notes, docs, and project management.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2016, "employee_count_range": "201-500", "is_remote_friendly": True, "careers_page": "https://www.notion.so/careers", "is_actively_hiring": True, "hires_from_india": True},
    {"name": "Figma", "slug": "figma", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Collaborative interface design tool.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2012, "employee_count_range": "501-1000", "is_remote_friendly": True, "careers_page": "https://www.figma.com/careers/", "is_actively_hiring": True},
    {"name": "Canva", "slug": "canva", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Online design and publishing platform.", "headquarters_city": "Sydney", "headquarters_country": "Australia", "founded_year": 2012, "employee_count_range": "1001-5000", "is_remote_friendly": True, "careers_page": "https://www.canva.com/careers/", "is_actively_hiring": True},
    {"name": "Stripe", "slug": "stripe", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Online payment processing for internet businesses.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2010, "employee_count_range": "5001-10000", "is_remote_friendly": True, "careers_page": "https://stripe.com/jobs", "is_actively_hiring": True, "has_indian_office": True},
    {"name": "Twilio", "slug": "twilio", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Cloud communications platform as a service.", "headquarters_city": "San Francisco", "headquarters_country": "USA", "founded_year": 2008, "employee_count_range": "5001-10000", "is_remote_friendly": True, "careers_page": "https://www.twilio.com/company/jobs", "has_indian_office": True},
    {"name": "Atlassian", "slug": "atlassian", "company_type": CompanyType.PRODUCT, "category": CompanyCategory.MNC, "description": "Team collaboration software. Jira, Confluence, Trello.", "headquarters_city": "Sydney", "headquarters_country": "Australia", "founded_year": 2002, "employee_count_range": "5001-10000", "is_remote_friendly": True, "careers_page": "https://www.atlassian.com/company/careers", "is_actively_hiring": True, "has_indian_office": True},
]

def seed_more_companies():
    """Seed additional company data"""
    logger.info("üè¢ Adding more companies...")
    
    init_db()
    db = SessionLocal()
    
    added = 0
    updated = 0
    
    try:
        for company_data in ADDITIONAL_COMPANIES:
            slug = company_data.get("slug")
            
            # Check if exists
            existing = db.query(Company).filter(
                Company.slug == slug
            ).first()
            
            if existing:
                # Update existing
                for key, value in company_data.items():
                    setattr(existing, key, value)
                updated += 1
            else:
                # Create new
                company = Company(**company_data)
                db.add(company)
                added += 1
        
        db.commit()
        logger.info(f"‚úÖ Added {added} new companies, updated {updated}")
        
    except Exception as e:
        logger.error(f"‚ùå Error: {e}")
        db.rollback()
        raise
    finally:
        db.close()


if __name__ == "__main__":
    seed_more_companies()
