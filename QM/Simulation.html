<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atom Simulation</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        .atom-container {
            position: relative;
            width: 400px;
            height: 400px;
        }
        .nucleus {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background-color: red;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 12px;
        }
        .orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid white;
            border-radius: 50%;
            animation: rotate 5s linear infinite;
        }
        .electron {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: blue;
            border-radius: 50%;
        }
        @keyframes rotate {
            from {
                transform: translate(-50%, -50%) rotate(0deg);
            }
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div>
        <h1>Atom Simulation</h1>
        <div class="atom-container" id="atom-container">
            <div class="nucleus" id="nucleus">P: 0<br>N: 0</div>
        </div>
        <div>
            <label>Protons: <input type="number" id="protons" value="1" min="1"></label>
            <label>Neutrons: <input type="number" id="neutrons" value="1" min="0"></label>
            <label>Electrons: <input type="number" id="electrons" value="1" min="1"></label>
            <button onclick="simulateAtom()">Simulate</button>
        </div>
    </div>

    <script>
        function simulateAtom() {
            const protons = parseInt(document.getElementById('protons').value);
            const neutrons = parseInt(document.getElementById('neutrons').value);
            let electrons = parseInt(document.getElementById('electrons').value);

            const nucleus = document.getElementById('nucleus');
            nucleus.innerHTML = `P: ${protons}<br>N: ${neutrons}`;

            const atomContainer = document.getElementById('atom-container');
            atomContainer.querySelectorAll('.orbit').forEach(orbit => orbit.remove());

            const orbitCapacities = [2, 8, 18, 32]; // Maximum electrons per orbit
            let orbitIndex = 0;

            while (electrons > 0) {
                const orbit = document.createElement('div');
                orbit.className = 'orbit';
                orbit.style.width = `${100 + orbitIndex * 30}px`;
                orbit.style.height = `${100 + orbitIndex * 30}px`;

                const electronsInThisOrbit = Math.min(electrons, orbitCapacities[orbitIndex]);
                const angleStep = 360 / electronsInThisOrbit;

                for (let i = 0; i < electronsInThisOrbit; i++) {
                    const electron = document.createElement('div');
                    electron.className = 'electron';

                    const angle = i * angleStep;
                    const x = 50 + 50 * Math.cos((angle * Math.PI) / 180);
                    const y = 50 + 50 * Math.sin((angle * Math.PI) / 180);

                    electron.style.top = `${y}%`;
                    electron.style.left = `${x}%`;

                    orbit.appendChild(electron);
                }
                // Adjust orbit size to simulate 3D perspective
                orbit.style.width = `${100 + orbitIndex * 50}px`;
                orbit.style.height = `${100 + orbitIndex * 50}px`;
                orbit.style.border = `2px solid rgba(255, 255, 255, 0.5)`;
                orbit.style.boxShadow = `0 0 10px rgba(255, 255, 255, 0.5)`;

                // Add 3D perspective to electrons
                for (let i = 0; i < electronsInThisOrbit; i++) {
                    const electron = document.createElement('div');
                    electron.className = 'electron';

                    const angle = i * angleStep;
                    const radius = 50 + orbitIndex * 25;
                    const x = 50 + radius * Math.cos((angle * Math.PI) / 180);
                    const y = 50 + radius * Math.sin((angle * Math.PI) / 180);

                    electron.style.top = `${y}%`;
                    electron.style.left = `${x}%`;
                    electron.style.boxShadow = `0 0 5px blue, 0 0 15px blue`;

                    orbit.appendChild(electron);
                }
                // Update nucleus color based on protons and neutrons
                const protonColor = `rgb(${Math.min(protons * 10, 255)}, 0, 0)`; // Red intensity based on protons
                const neutronColor = `rgb(0, ${Math.min(neutrons * 10, 255)}, 0)`; // Green intensity based on neutrons
                nucleus.style.background = `radial-gradient(circle, ${protonColor}, ${neutronColor})`;

                // Append orbit to atom container
                atomContainer.appendChild(orbit);
                electrons -= electronsInThisOrbit;
                orbitIndex++;
            }
        }

        simulateAtom(); // Initialize with default values
    </script>
</body>
</html>